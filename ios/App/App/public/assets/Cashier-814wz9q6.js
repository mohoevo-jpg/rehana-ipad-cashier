import{D as nt,r as W,i as N,c as w,o as x,b as a,e as R,m as k,v as rt,E as ht,n as g,F as j,p as B,q as Q,t as v,s as gt,g as st,G as U,B as yt,H as I,d as L,C as at,I as pt,J as bt,K as xt,u as wt,j as vt,T as kt}from"./index-D6fbium0.js";import{c as O,b as V,t as M,a as Y,g as z,h as $t,i as ot,e as _t,P as Ct,S as A,U as Ot,f as Dt}from"./ar-BoWEtPll.js";/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=O("BanknoteIcon",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=O("CreditCardIcon",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=O("FileTextIcon",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=O("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=O("PackageOpenIcon",[["path",{d:"M20.91 8.84 8.56 2.23a1.93 1.93 0 0 0-1.81 0L3.1 4.13a2.12 2.12 0 0 0-.05 3.69l12.22 6.93a2 2 0 0 0 1.94 0L21 12.51a2.12 2.12 0 0 0-.09-3.67Z",key:"1vy178"}],["path",{d:"m3.09 8.84 12.35-6.61a1.93 1.93 0 0 1 1.81 0l3.65 1.9a2.12 2.12 0 0 1 .1 3.69L8.73 14.75a2 2 0 0 1-1.94 0L3 12.51a2.12 2.12 0 0 1 .09-3.67Z",key:"s3bv25"}],["line",{x1:"12",x2:"12",y1:"22",y2:"13",key:"1o4xyi"}],["path",{d:"M20 13.5v3.37a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13.5",key:"1na2nq"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=O("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=O("PrinterIcon",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=O("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=O("TagIcon",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=O("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=O("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function G(n,t){var y,d,u,m;const e=V(),r=(t==null?void 0:t.weekStartsOn)??((d=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:d.weekStartsOn)??e.weekStartsOn??((m=(u=e.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??0,s=M(n),i=s.getDay(),b=(i<r?7:0)+i-r;return s.setDate(s.getDate()-b),s.setHours(0,0,0,0),s}function X(n){return G(n,{weekStartsOn:1})}function ct(n){const t=M(n),e=t.getFullYear(),r=Y(n,0);r.setFullYear(e+1,0,4),r.setHours(0,0,0,0);const s=X(r),i=Y(n,0);i.setFullYear(e,0,4),i.setHours(0,0,0,0);const b=X(i);return t.getTime()>=s.getTime()?e+1:t.getTime()>=b.getTime()?e:e-1}function K(n){const t=M(n);return t.setHours(0,0,0,0),t}function Ft(n,t){const e=K(n),r=K(t),s=+e-z(e),i=+r-z(r);return Math.round((s-i)/$t)}function Ht(n){const t=ct(n),e=Y(n,0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),X(e)}function Lt(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function jt(n){if(!Lt(n)&&typeof n!="number")return!1;const t=M(n);return!isNaN(Number(t))}function Bt(n){const t=M(n),e=Y(n,0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}function Gt(n){const t=M(n);return Ft(t,Bt(t))+1}function Qt(n){const t=M(n),e=+X(t)-+Ht(t);return Math.round(e/ot)+1}function dt(n,t){var m,c,p,o;const e=M(n),r=e.getFullYear(),s=V(),i=(t==null?void 0:t.firstWeekContainsDate)??((c=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((o=(p=s.locale)==null?void 0:p.options)==null?void 0:o.firstWeekContainsDate)??1,b=Y(n,0);b.setFullYear(r+1,0,i),b.setHours(0,0,0,0);const y=G(b,t),d=Y(n,0);d.setFullYear(r,0,i),d.setHours(0,0,0,0);const u=G(d,t);return e.getTime()>=y.getTime()?r+1:e.getTime()>=u.getTime()?r:r-1}function Xt(n,t){var y,d,u,m;const e=V(),r=(t==null?void 0:t.firstWeekContainsDate)??((d=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:d.firstWeekContainsDate)??e.firstWeekContainsDate??((m=(u=e.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??1,s=dt(n,t),i=Y(n,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),G(i,t)}function Vt(n,t){const e=M(n),r=+G(e,t)-+Xt(e,t);return Math.round(r/ot)+1}function h(n,t){const e=n<0?"-":"",r=Math.abs(n).toString().padStart(t,"0");return e+r}const P={y(n,t){const e=n.getFullYear(),r=e>0?e:1-e;return h(t==="yy"?r%100:r,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):h(e+1,2)},d(n,t){return h(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return h(n.getHours()%12||12,t.length)},H(n,t){return h(n.getHours(),t.length)},m(n,t){return h(n.getMinutes(),t.length)},s(n,t){return h(n.getSeconds(),t.length)},S(n,t){const e=t.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,e-3));return h(s,t.length)}},E={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J={G:function(n,t,e){const r=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(r,{width:"abbreviated"});case"GGGGG":return e.era(r,{width:"narrow"});case"GGGG":default:return e.era(r,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return e.ordinalNumber(s,{unit:"year"})}return P.y(n,t)},Y:function(n,t,e,r){const s=dt(n,r),i=s>0?s:1-s;if(t==="YY"){const b=i%100;return h(b,2)}return t==="Yo"?e.ordinalNumber(i,{unit:"year"}):h(i,t.length)},R:function(n,t){const e=ct(n);return h(e,t.length)},u:function(n,t){const e=n.getFullYear();return h(e,t.length)},Q:function(n,t,e){const r=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return h(r,2);case"Qo":return e.ordinalNumber(r,{unit:"quarter"});case"QQQ":return e.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,t,e){const r=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return h(r,2);case"qo":return e.ordinalNumber(r,{unit:"quarter"});case"qqq":return e.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,t,e){const r=n.getMonth();switch(t){case"M":case"MM":return P.M(n,t);case"Mo":return e.ordinalNumber(r+1,{unit:"month"});case"MMM":return e.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(r,{width:"wide",context:"formatting"})}},L:function(n,t,e){const r=n.getMonth();switch(t){case"L":return String(r+1);case"LL":return h(r+1,2);case"Lo":return e.ordinalNumber(r+1,{unit:"month"});case"LLL":return e.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(r,{width:"wide",context:"standalone"})}},w:function(n,t,e,r){const s=Vt(n,r);return t==="wo"?e.ordinalNumber(s,{unit:"week"}):h(s,t.length)},I:function(n,t,e){const r=Qt(n);return t==="Io"?e.ordinalNumber(r,{unit:"week"}):h(r,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):P.d(n,t)},D:function(n,t,e){const r=Gt(n);return t==="Do"?e.ordinalNumber(r,{unit:"dayOfYear"}):h(r,t.length)},E:function(n,t,e){const r=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(r,{width:"short",context:"formatting"});case"EEEE":default:return e.day(r,{width:"wide",context:"formatting"})}},e:function(n,t,e,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return h(i,2);case"eo":return e.ordinalNumber(i,{unit:"day"});case"eee":return e.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(s,{width:"short",context:"formatting"});case"eeee":default:return e.day(s,{width:"wide",context:"formatting"})}},c:function(n,t,e,r){const s=n.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return h(i,t.length);case"co":return e.ordinalNumber(i,{unit:"day"});case"ccc":return e.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(s,{width:"narrow",context:"standalone"});case"cccccc":return e.day(s,{width:"short",context:"standalone"});case"cccc":default:return e.day(s,{width:"wide",context:"standalone"})}},i:function(n,t,e){const r=n.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return h(s,t.length);case"io":return e.ordinalNumber(s,{unit:"day"});case"iii":return e.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(r,{width:"short",context:"formatting"});case"iiii":default:return e.day(r,{width:"wide",context:"formatting"})}},a:function(n,t,e){const s=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,t,e){const r=n.getHours();let s;switch(r===12?s=E.noon:r===0?s=E.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,t,e){const r=n.getHours();let s;switch(r>=17?s=E.evening:r>=12?s=E.afternoon:r>=4?s=E.morning:s=E.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let r=n.getHours()%12;return r===0&&(r=12),e.ordinalNumber(r,{unit:"hour"})}return P.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):P.H(n,t)},K:function(n,t,e){const r=n.getHours()%12;return t==="Ko"?e.ordinalNumber(r,{unit:"hour"}):h(r,t.length)},k:function(n,t,e){let r=n.getHours();return r===0&&(r=24),t==="ko"?e.ordinalNumber(r,{unit:"hour"}):h(r,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):P.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):P.s(n,t)},S:function(n,t){return P.S(n,t)},X:function(n,t,e){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return tt(r);case"XXXX":case"XX":return T(r);case"XXXXX":case"XXX":default:return T(r,":")}},x:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"x":return tt(r);case"xxxx":case"xx":return T(r);case"xxxxx":case"xxx":default:return T(r,":")}},O:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Z(r,":");case"OOOO":default:return"GMT"+T(r,":")}},z:function(n,t,e){const r=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Z(r,":");case"zzzz":default:return"GMT"+T(r,":")}},t:function(n,t,e){const r=Math.trunc(n.getTime()/1e3);return h(r,t.length)},T:function(n,t,e){const r=n.getTime();return h(r,t.length)}};function Z(n,t=""){const e=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),i=r%60;return i===0?e+String(s):e+String(s)+t+h(i,2)}function tt(n,t){return n%60===0?(n>0?"-":"+")+h(Math.abs(n)/60,2):T(n,t)}function T(n,t=""){const e=n>0?"-":"+",r=Math.abs(n),s=h(Math.trunc(r/60),2),i=h(r%60,2);return e+s+t+i}const et=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},lt=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Rt=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],r=e[1],s=e[2];if(!s)return et(n,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",et(r,t)).replace("{{time}}",lt(s,t))},Ut={p:lt,P:Rt},zt=/^D+$/,At=/^Y+$/,Kt=["D","DD","YY","YYYY"];function Jt(n){return zt.test(n)}function Zt(n){return At.test(n)}function te(n,t,e){const r=ee(n,t,e);if(console.warn(r),Kt.includes(n))throw new RangeError(r)}function ee(n,t,e){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${r} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,re=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,se=/^'([^]*?)'?$/,ae=/''/g,oe=/[a-zA-Z]/;function ie(n,t,e){var m,c,p,o,l,S,D,f;const r=V(),s=(e==null?void 0:e.locale)??r.locale??_t,i=(e==null?void 0:e.firstWeekContainsDate)??((c=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((o=(p=r.locale)==null?void 0:p.options)==null?void 0:o.firstWeekContainsDate)??1,b=(e==null?void 0:e.weekStartsOn)??((S=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((f=(D=r.locale)==null?void 0:D.options)==null?void 0:f.weekStartsOn)??0,y=M(n);if(!jt(y))throw new RangeError("Invalid time value");let d=t.match(re).map($=>{const _=$[0];if(_==="p"||_==="P"){const F=Ut[_];return F($,s.formatLong)}return $}).join("").match(ne).map($=>{if($==="''")return{isToken:!1,value:"'"};const _=$[0];if(_==="'")return{isToken:!1,value:ce($)};if(J[_])return{isToken:!0,value:$};if(_.match(oe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:$}});s.localize.preprocessor&&(d=s.localize.preprocessor(y,d));const u={firstWeekContainsDate:i,weekStartsOn:b,locale:s};return d.map($=>{if(!$.isToken)return $.value;const _=$.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&Zt(_)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&Jt(_))&&te(_,t,String(n));const F=J[_[0]];return F(y,_,s.localize,u)}).join("")}function ce(n){const t=n.match(se);return t?t[1].replace(ae,"'"):n}const C=n=>{const t=nt();return new Intl.NumberFormat(t.currencyLocale,{style:"currency",currency:t.currency,minimumFractionDigits:0,maximumFractionDigits:0}).format(n)},de={class:"flex flex-col h-full bg-white rounded-lg shadow overflow-hidden"},le={class:"p-4 border-b space-y-3"},ue={class:"relative"},me=["placeholder"],fe={class:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide"},he=["onClick"],ge={class:"flex-1 overflow-y-auto p-4"},ye={key:0,class:"h-full flex flex-col items-center justify-center text-gray-500"},pe={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"},be=["onClick"],xe={class:"w-full h-24 bg-gray-100 rounded-md mb-2 flex items-center justify-center overflow-hidden"},we=["src","alt"],ve={class:"font-medium text-sm text-gray-800 line-clamp-2 w-full"},ke={class:"mt-1 text-primary-600 font-bold text-sm w-full"},$e={__name:"ProductGrid",props:{products:{type:Array,required:!0}},emits:["add-to-cart"],setup(n,{emit:t}){const e=n,r=t,s=W(""),i=W("الكل"),b=N(()=>["الكل",...new Set(e.products.map(m=>m.category))]),y=N(()=>{let u=e.products;if(i.value!=="الكل"&&(u=u.filter(m=>m.category===i.value)),s.value){const m=s.value.toLowerCase();u=u.filter(c=>c.name.toLowerCase().includes(m)||c.barcode.includes(m))}return u}),d=()=>{const u=e.products.find(m=>m.barcode===s.value);u&&(r("add-to-cart",u),s.value="")};return(u,m)=>(x(),w("div",de,[a("div",le,[a("div",ue,[R(a("input",{"onUpdate:modelValue":m[0]||(m[0]=c=>s.value=c),type:"text",placeholder:u.$t("cashier.search_product"),class:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:outline-none",onKeyup:ht(d,["enter"])},null,40,me),[[rt,s.value]]),k(g(It),{class:"w-5 h-5 text-gray-400 absolute left-3 top-2.5"})]),a("div",fe,[(x(!0),w(j,null,B(b.value,c=>(x(),w("button",{key:c,onClick:p=>i.value=c,class:Q(["px-4 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors",i.value===c?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},v(c),11,he))),128))])]),a("div",ge,[y.value.length===0?(x(),w("div",ye,[k(g(Tt),{class:"w-12 h-12 mb-2 opacity-50"}),m[1]||(m[1]=a("p",null,"لا توجد منتجات",-1))])):(x(),w("div",pe,[(x(!0),w(j,null,B(y.value,c=>(x(),w("button",{key:c.id,onClick:p=>u.$emit("add-to-cart",c),class:"flex flex-col items-center p-3 border rounded-lg hover:border-primary-500 hover:shadow-md transition-all bg-white text-right"},[a("div",xe,[c.image?(x(),w("img",{key:0,src:c.image,alt:c.name,class:"w-full h-full object-cover"},null,8,we)):(x(),gt(g(Ct),{key:1,class:"w-10 h-10 text-gray-300"}))]),a("h3",ve,v(c.name),1),a("span",ke,v(g(C)(c.price)),1)],8,be))),128))]))])]))}},ut=st("cart",{state:()=>({items:[],discount:0,customer:null}),getters:{subtotal:n=>n.items.reduce((t,e)=>t+e.price*e.quantity,0),total:n=>{const t=n.items.reduce((e,r)=>e+r.price*r.quantity,0);return Math.max(0,t-n.discount)},itemCount:n=>n.items.reduce((t,e)=>t+e.quantity,0)},actions:{addToCart(n){const t=this.items.find(e=>e.id===n.id);t?t.quantity++:this.items.push({...n,quantity:1})},removeFromCart(n){const t=this.items.findIndex(e=>e.id===n);t>-1&&this.items.splice(t,1)},updateQuantity(n,t){const e=this.items.find(r=>r.id===n);e&&(e.quantity=t,e.quantity<=0&&this.removeFromCart(n))},clearCart(){this.items=[],this.discount=0,this.customer=null},setDiscount(n){this.discount=n},setCustomer(n){this.customer=n}}}),_e=[{id:1,name:"أحمد محمد",phone:"07701234567",email:"ahmed@example.com",address:"الموصل - حي الزهور",notes:"عميل مميز",registrationDate:"2023-01-15"},{id:2,name:"سارة علي",phone:"07809876543",email:"sara@example.com",address:"الموصل - المثنى",notes:"",registrationDate:"2023-03-20"},{id:3,name:"شركة النور",phone:"07505555555",email:"info@alnoor.com",address:"الموصل - المجموعة الثقافية",notes:"شركة توريد",registrationDate:"2023-06-10"}],Ce=st("customers",{state:()=>({customers:JSON.parse(localStorage.getItem("customers"))||_e,loading:!1,error:null}),getters:{getAllCustomers:n=>n.customers,getCustomerById:n=>t=>n.customers.find(e=>e.id===t)},actions:{addCustomer(n){const t={...n,id:Date.now(),registrationDate:new Date().toISOString()};this.customers.push(t),this.persist()},updateCustomer(n){const t=this.customers.findIndex(e=>e.id===n.id);t!==-1&&(this.customers[t]=n,this.persist())},deleteCustomer(n){this.customers=this.customers.filter(t=>t.id!==n),this.persist()},persist(){localStorage.setItem("customers",JSON.stringify(this.customers))}}}),Oe={class:"flex flex-col h-full bg-white shadow-lg border-r border-gray-200"},De={class:"p-4 border-b bg-gray-50"},Me={class:"font-bold text-lg text-gray-800 flex items-center"},Se={class:"flex-1 overflow-y-auto p-2 space-y-2"},Pe={key:0,class:"h-full flex flex-col items-center justify-center text-gray-400"},Te={class:"flex-1"},Ye={class:"font-medium text-gray-900"},qe={class:"text-sm text-gray-500"},Ie={class:"flex items-center gap-3"},Ee={class:"flex items-center border rounded-md"},Ne=["onClick"],We={class:"px-2 font-medium"},Fe=["onClick"],He={class:"font-bold text-gray-800 w-20 text-left"},Le=["onClick"],je={class:"p-4 bg-gray-50 border-t space-y-2"},Be={class:"mb-4 pb-4 border-b"},Ge={class:"flex items-center justify-between mb-2"},Qe={class:"text-gray-600 font-medium flex items-center gap-2"},Xe=["value"],Ve=["value"],Re={class:"flex justify-between text-gray-600"},Ue={class:"flex justify-between items-center text-gray-600"},ze={class:"flex items-center gap-1"},Ae={class:"relative w-32"},Ke=["value","disabled"],Je={class:"flex items-center justify-end gap-2 mt-2"},Ze={class:"border-t pt-2 flex justify-between items-center"},tn={class:"font-bold text-lg"},en={class:"font-bold text-2xl text-primary-600"},nn={class:"flex gap-2 mt-4"},rn=["disabled"],sn=["disabled"],an={__name:"CartList",emits:["checkout"],setup(n){const t=ut(),e=Ce(),r=N(()=>t.items),s=N(()=>t.subtotal),i=N(()=>t.total),b=N(()=>t.discount),y=W(!1),d=()=>{const o=s.value*.4166;t.setDiscount(Math.floor(o))};U(y,o=>{o?d():t.setDiscount(0)}),U(s,()=>{y.value&&d()});const u=(o,l)=>{t.updateQuantity(o,l)},m=o=>{t.removeFromCart(o)},c=o=>{o<0&&(o=0),t.setDiscount(o)},p=o=>{if(!o){t.setCustomer(null);return}const l=e.getCustomerById(Number(o));t.setCustomer(l)};return(o,l)=>{var D;const S=yt("router-link");return x(),w("div",Oe,[a("div",De,[a("h2",Me,[k(g(A),{class:"w-5 h-5 ml-2"}),l[5]||(l[5]=I(" السلة الحالية ",-1))])]),a("div",Se,[r.value.length===0?(x(),w("div",Pe,[k(g(A),{class:"w-12 h-12 mb-2 opacity-50"}),a("p",null,v(o.$t("cashier.cart_empty")),1)])):L("",!0),(x(!0),w(j,null,B(r.value,f=>(x(),w("div",{key:f.id,class:"bg-white border rounded-lg p-3 flex justify-between items-center shadow-sm"},[a("div",Te,[a("h4",Ye,v(f.name),1),a("div",qe,v(g(C)(f.price))+" × "+v(f.quantity),1)]),a("div",Ie,[a("div",Ee,[a("button",{onClick:$=>u(f.id,f.quantity+1),class:"px-2 py-1 hover:bg-gray-100 text-green-600"},[k(g(Yt),{class:"w-4 h-4"})],8,Ne),a("span",We,v(f.quantity),1),a("button",{onClick:$=>u(f.id,f.quantity-1),class:"px-2 py-1 hover:bg-gray-100 text-red-600"},[k(g(Pt),{class:"w-4 h-4"})],8,Fe)]),a("div",He,v(g(C)(f.price*f.quantity)),1),a("button",{onClick:$=>m(f.id),class:"text-red-400 hover:text-red-600 p-1"},[k(g(Nt),{class:"w-4 h-4"})],8,Le)])]))),128))]),a("div",je,[a("div",Be,[a("div",Ge,[a("span",Qe,[k(g(Ot),{class:"w-4 h-4"}),l[6]||(l[6]=I(" العميل ",-1))]),k(S,{to:"/customers",class:"text-xs text-primary-600 hover:text-primary-800"},{default:at(()=>[...l[7]||(l[7]=[I(" + إضافة جديد ",-1)])]),_:1})]),a("select",{value:((D=g(t).customer)==null?void 0:D.id)||"",onChange:l[0]||(l[0]=f=>p(f.target.value)),class:"w-full border border-gray-300 rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary-500 bg-white"},[l[8]||(l[8]=a("option",{value:""},"عميل نقدي (غير مسجل)",-1)),(x(!0),w(j,null,B(g(e).customers,f=>(x(),w("option",{key:f.id,value:f.id},v(f.name),9,Ve))),128))],40,Xe)]),a("div",Re,[l[9]||(l[9]=a("span",null,"المجموع الفرعي",-1)),a("span",null,v(g(C)(s.value)),1)]),a("div",Ue,[a("span",ze,[I(v(o.$t("cashier.discount"))+" ",1),k(g(Et),{class:"w-4 h-4"})]),a("div",Ae,[a("input",{type:"number",value:b.value,onInput:l[1]||(l[1]=f=>c(Number(f.target.value))),min:"0",disabled:y.value,class:"w-full text-left border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-primary-500 disabled:bg-gray-100 disabled:text-gray-400",placeholder:"0"},null,40,Ke)])]),a("div",Je,[l[10]||(l[10]=a("label",{for:"specialDiscount",class:"text-sm text-gray-700 cursor-pointer select-none"},"خصم خاص (41.66%)",-1)),R(a("input",{type:"checkbox",id:"specialDiscount","onUpdate:modelValue":l[2]||(l[2]=f=>y.value=f),class:"rounded text-primary-600 focus:ring-primary-500 w-4 h-4 cursor-pointer"},null,512),[[pt,y.value]])]),a("div",Ze,[a("span",tn,v(o.$t("cashier.total")),1),a("span",en,v(g(C)(i.value)),1)]),a("div",nn,[a("button",{onClick:l[3]||(l[3]=f=>o.$emit("print")),disabled:r.value.length===0,class:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-3 rounded-lg shadow transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed"},[k(g(qt),{class:"w-5 h-5 ml-2"}),l[11]||(l[11]=I(" طباعة ",-1))],8,rn),a("button",{onClick:l[4]||(l[4]=f=>o.$emit("checkout")),disabled:r.value.length===0,class:"flex-[2] bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 rounded-lg shadow transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed"},[k(g(it),{class:"w-5 h-5 ml-2"}),I(" "+v(o.$t("cashier.pay")),1)],8,sn)])])])}}},on={class:"bg-white rounded-lg shadow-xl overflow-hidden max-w-2xl w-full mx-4"},cn={class:"p-4 border-b bg-primary-50 flex justify-between items-center"},dn={class:"text-xl font-bold text-gray-800"},ln={class:"p-6"},un={class:"text-center mb-8"},mn={class:"text-gray-500 mb-1"},fn={class:"text-4xl font-bold text-primary-600"},hn={class:"grid grid-cols-3 gap-4 mb-6"},gn={key:0,class:"space-y-4"},yn={class:"relative"},pn={class:"grid grid-cols-4 gap-2"},bn=["onClick"],xn={key:0,class:"bg-green-50 p-4 rounded-lg flex justify-between items-center"},wn={class:"text-xl font-bold text-green-700"},vn={class:"p-4 bg-gray-50 border-t flex gap-3"},kn=["disabled"],$n=["disabled"],_n={__name:"PaymentBox",props:{total:{type:Number,required:!0},hasCustomer:{type:Boolean,default:!1}},emits:["close","confirm"],setup(n,{emit:t}){const e=n,r=t,s=W("cash"),i=W(0),b=(y=!0)=>{r("confirm",{method:s.value,received:s.value==="cash"?i.value:e.total,shouldPrint:y,change:s.value==="cash"?Math.max(0,i.value-e.total):0})};return(y,d)=>(x(),w("div",on,[a("div",cn,[a("h3",dn,v(y.$t("cashier.payment_method")),1),a("button",{onClick:d[0]||(d[0]=u=>y.$emit("close")),class:"text-gray-500 hover:text-gray-700"},[k(g(Wt),{class:"w-6 h-6"})])]),a("div",ln,[a("div",un,[a("p",mn,v(y.$t("cashier.total")),1),a("p",fn,v(g(C)(n.total)),1)]),a("div",hn,[a("button",{onClick:d[1]||(d[1]=u=>s.value="cash"),class:Q(["p-4 border rounded-xl flex flex-col items-center justify-center transition-all",s.value==="cash"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:bg-gray-50"])},[k(g(Mt),{class:"w-8 h-8 mb-2"}),d[7]||(d[7]=a("span",{class:"font-medium"},"نقدي",-1))],2),a("button",{onClick:d[2]||(d[2]=u=>s.value="card"),class:Q(["p-4 border rounded-xl flex flex-col items-center justify-center transition-all",s.value==="card"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:bg-gray-50"])},[k(g(it),{class:"w-8 h-8 mb-2"}),d[8]||(d[8]=a("span",{class:"font-medium"},"ماستر كارد",-1))],2),n.hasCustomer?(x(),w("button",{key:0,onClick:d[3]||(d[3]=u=>s.value="credit"),class:Q(["p-4 border rounded-xl flex flex-col items-center justify-center transition-all",s.value==="credit"?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:bg-gray-50"])},[k(g(St),{class:"w-8 h-8 mb-2"}),d[9]||(d[9]=a("span",{class:"font-medium"},"آجل (دين)",-1))],2)):L("",!0)]),s.value==="cash"?(x(),w("div",gn,[a("div",null,[d[10]||(d[10]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"المبلغ المدفوع",-1)),a("div",yn,[R(a("input",{"onUpdate:modelValue":d[4]||(d[4]=u=>i.value=u),type:"number",class:"w-full text-2xl p-3 border rounded-lg focus:ring-2 focus:ring-primary-500 text-center",placeholder:"0"},null,512),[[rt,i.value,void 0,{number:!0}]])])]),a("div",pn,[(x(),w(j,null,B([1e3,5e3,1e4,25e3],u=>a("button",{key:u,onClick:m=>i.value=u,class:"py-2 bg-gray-100 rounded hover:bg-gray-200 text-sm font-medium"},v(g(C)(u)),9,bn)),64))]),i.value>=n.total?(x(),w("div",xn,[d[11]||(d[11]=a("span",{class:"text-green-800 font-medium"},"المتبقي",-1)),a("span",wn,v(g(C)(i.value-n.total)),1)])):L("",!0)])):L("",!0)]),a("div",vn,[a("button",{onClick:d[5]||(d[5]=u=>b(!1)),disabled:s.value==="cash"&&i.value<n.total,class:"flex-1 bg-gray-600 text-white font-bold py-3 rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed"}," حفظ فقط ",8,kn),a("button",{onClick:d[6]||(d[6]=u=>b(!0)),disabled:s.value==="cash"&&i.value<n.total,class:"flex-1 bg-primary-600 text-white font-bold py-3 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed"}," حفظ وطباعة ",8,$n)])]))}},Cn=(n,t="PPP")=>ie(new Date(n),t,{locale:Dt}),On={class:"h-full flex flex-col lg:flex-row gap-4 overflow-hidden"},Dn={class:"flex-1 h-1/2 lg:h-full overflow-hidden"},Mn={class:"w-full lg:w-80 h-1/2 lg:h-full overflow-hidden"},Sn={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm"},Yn={__name:"Cashier",setup(n){const t=bt(),e=ut(),r=xt(),s=nt(),i=wt(),b=W(!1);vt(()=>{t.fetchProducts()});const y=c=>{e.addToCart(c)},d=()=>{var o,l;const c=i.currentUser,p={id:"TEMP-"+Date.now(),items:[...e.items],subtotal:e.subtotal,discount:e.discount,total:e.total,payment:{method:"N/A"},date:new Date,userId:c==null?void 0:c.id,branchId:c==null?void 0:c.branchId,customerId:(o=e.customer)==null?void 0:o.id,customerName:(l=e.customer)==null?void 0:l.name};m(p,!0)},u=c=>{var l,S;const p=i.currentUser,o={id:Date.now(),items:[...e.items],subtotal:e.subtotal,discount:e.discount,total:e.total,payment:c,date:new Date,userId:p==null?void 0:p.id,branchId:p==null?void 0:p.branchId,customerId:(l=e.customer)==null?void 0:l.id,customerName:(S=e.customer)==null?void 0:S.name};r.addSale(o),c.shouldPrint&&m(o),e.clearCart(),b.value=!1},m=(c,p=!1)=>{const o=s,l=p?"عرض سعر":`فاتورة #${c.id}`,S=o.invoicePaperSize||"80mm",D=(o.invoiceFontSize||12)+"px",f=o.invoiceFontSize||12,$=c.items.map(H=>`
    <tr>
      <td style="padding: 5px; border-bottom: 1px solid #eee;">${H.name}</td>
      <td style="padding: 5px; border-bottom: 1px solid #eee;">${H.quantity}</td>
      <td style="padding: 5px; border-bottom: 1px solid #eee;">${C(H.price)}</td>
      <td style="padding: 5px; border-bottom: 1px solid #eee;">${C(H.price*H.quantity)}</td>
    </tr>
  `).join(""),_={cash:"نقدي",card:"ماستر كارد",credit:"آجل (دين)"}[c.payment.method]||c.payment.method,F=o.showSocialMediaOnInvoice?`
    <div style="margin-bottom: 15px; border-bottom: 1px dashed #000; padding-bottom: 10px;">
       ${o.facebookUrl?`<div>${o.facebookUrl} :Fb</div>`:""}
       ${o.instagramUrl?`<div>${o.instagramUrl} :Insta</div>`:""}
       ${o.telegramUrl?`<div>${o.telegramUrl} :Tele</div>`:""}
       ${o.websiteUrl?`<div>${o.websiteUrl} :Web</div>`:""}
       ${o.email?`<div>${o.email}</div>`:""}
    </div>
  `:"",mt=o.showLogoOnInvoice?o.invoiceLogoUrl?`<img src="${o.invoiceLogoUrl}" style="max-width: 80%; max-height: 100px; display: block; margin: 0 auto 10px auto;">`:'<div style="margin-bottom:10px; font-weight:bold; border:2px solid black; padding:5px; display:inline-block;">LOGO</div>':"",ft=`
    <html>
      <head>
        <title>${l}</title>
        <style>
          body { font-family: 'Arial', sans-serif; direction: rtl; padding: 10px; width: ${S}; margin: 0 auto; font-size: ${D}; }
          .header { text-align: center; margin-bottom: 20px; }
          .header h2 { margin: 0; font-size: ${f+4}px; }
          .meta { margin-bottom: 15px; font-size: ${D}; }
          table { width: 100%; border-collapse: collapse; font-size: ${D}; }
          th { text-align: right; border-bottom: 2px solid #000; padding: 5px; }
          .totals { margin-top: 20px; border-top: 2px solid #000; padding-top: 10px; }
          .totals div { display: flex; justify-content: space-between; margin-bottom: 5px; }
          .footer { margin-top: 30px; text-align: center; font-size: ${D}; }
        </style>
      </head>
      <body>
        <div class="header">
          ${mt}
          <h2>${o.shopName}</h2>
          <p style="margin: 5px 0; color: #666;">${o.address}</p>
          <p style="margin: 5px 0; color: #666;">${o.phone}</p>
          ${o.invoiceHeader?`<p style="margin-top:5px; font-weight:bold;">${o.invoiceHeader}</p>`:""}
          <h3 style="margin-top: 10px; border-top: 1px dashed #000; padding-top: 5px; font-size: ${f+2}px;">${l}</h3>
        </div>
        
        <div class="meta">
          <div>${p?"رقم العرض":"رقم الفاتورة"}: #${c.id}</div>
          ${o.showDate!==!1?`<div>التاريخ: ${Cn(c.date)}</div>`:""}
          ${!p&&c.payment?`<div>طريقة الدفع: ${_}</div>`:""}
          ${o.showCustomerInfo&&c.customerName?`<div>العميل: ${c.customerName}</div>`:""}
          ${o.showCashierName?"<div>الكاشير: محمد</div>":""}
          ${c.payment.method==="credit"?'<div style="font-weight: bold; color: red;">* فاتورة آجلة (دين)</div>':""}
        </div>

        <table>
          <thead>
            <tr>
              <th>المنتج</th>
              <th>الكمية</th>
              <th>السعر</th>
              <th>المجموع</th>
            </tr>
          </thead>
          <tbody>
            ${$}
          </tbody>
        </table>

        <div class="totals">
          ${c.discount>0?`
            <div>
              <span>المجموع الفرعي:</span>
              <span>${C(c.subtotal||c.total+c.discount)}</span>
            </div>
            <div>
              <span>الخصم:</span>
              <span>${C(c.discount)}</span>
            </div>
          `:""}
          <div style="font-weight: bold; font-size: ${f+2}px;">
            <span>المجموع الكلي:</span>
            <span>${C(c.total)}</span>
          </div>
        </div>

        <div class="footer">
          ${F}
          <p>${o.invoiceFooter||""}</p>
        </div>
      </body>
    </html>
  `,q=window.open("","","height=600,width=400");q.document.write(ft),q.document.close(),q.onload=()=>{q.focus(),q.print(),q.close()}};return(c,p)=>(x(),w("div",On,[a("div",Dn,[k($e,{products:g(t).getAllProducts,onAddToCart:y},null,8,["products"])]),a("div",Mn,[k(an,{onCheckout:p[0]||(p[0]=o=>b.value=!0),onPrint:d})]),k(kt,{name:"modal"},{default:at(()=>[b.value?(x(),w("div",Sn,[k(_n,{total:g(e).total,"has-customer":!!g(e).customer,onClose:p[1]||(p[1]=o=>b.value=!1),onConfirm:u},null,8,["total","has-customer"])])):L("",!0)]),_:1})]))}};export{Yn as default};
